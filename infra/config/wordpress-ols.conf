# SPDX-License-Identifier: MIT
# SPDX-FileCopyrightText: 2025 Jonathan D. A. Jewell <hyperpolymath>
#
# WordPress Rewrite Rules for OpenLiteSpeed
# ==========================================
# Standard WordPress permalinks with security hardening.

# WordPress Permalinks
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /index.php [L]

# Block access to sensitive files
RewriteRule ^wp-config\.php$ - [F,L]
RewriteRule ^readme\.html$ - [F,L]
RewriteRule ^license\.txt$ - [F,L]
RewriteRule ^wp-includes/(.*)\.php$ - [F,L]
RewriteRule ^wp-content/debug\.log$ - [F,L]

# Block PHP execution in uploads (critical!)
RewriteRule ^wp-content/uploads/(.*)\.php$ - [F,L]

# Block access to hidden files
RewriteRule (^\.|/\.) - [F,L]

# Block access to backup files
RewriteRule \.(bak|config|sql|fla|psd|ini|log|sh|inc|swp|dist)$ - [F,L]
